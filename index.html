<html>
  <head>
    <script src="/header/index.js" type="text/javascript"></script>

    <script>
      const getUserProfile = async () => {
        const res = await fetch("/api/profile/current");
        if (!res.ok) return;

        const data = JSON.stringify(await res.json());
        document.getElementById("user-profile").innerHTML = data;
        document.getElementById("user-profile").style.display = "block";
      };
    </script>

    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
      }

      #user-profile {
        display: none;
      }
    </style>
  </head>

  <body>
    <div id="dboard-header"></div>
    <div id="user-profile"></div>
    <script>
      try {
        addDBoardHeader("dboard-header");
        getUserProfile();
      } catch (e) {
        window.location.replace("https://dboard-dev.luxoft.com");
      }
    </script>
  </body>
</html>
